<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:YuvaCep.Mobile.ViewModels"
             x:Class="YuvaCep.Mobile.Views.ParentHomePage"
             Title="Veli Ana SayfasÄ±"
             BackgroundColor="#F5F5F5">

    <ContentPage.ToolbarItems>
        <ToolbarItem Text="Ã‡Ä±kÄ±ÅŸ Yap" Command="{Binding LogoutCommand}" Order="Primary"/>
    </ContentPage.ToolbarItems>

    <Grid RowDefinitions="Auto, *" Padding="20">

        <Label Text="HoÅŸ Geldiniz" FontSize="24" FontAttributes="Bold" TextColor="#333" />

        <Grid Grid.Row="1" VerticalOptions="Center">

            <ActivityIndicator IsRunning="{Binding IsBusy}" 
                               IsVisible="{Binding IsBusy}" 
                               Color="Blue"
                               HorizontalOptions="Center"
                               VerticalOptions="Center"
                               HeightRequest="50" WidthRequest="50"/>

            <VerticalStackLayout Spacing="20">

                <VerticalStackLayout.Triggers>
                    <DataTrigger TargetType="VerticalStackLayout" Binding="{Binding IsBusy}" Value="True">
                        <Setter Property="IsVisible" Value="False" />
                    </DataTrigger>
                </VerticalStackLayout.Triggers>

                <Frame IsVisible="{Binding HasStudent}" 
                       BackgroundColor="White" CornerRadius="15" Padding="20" HasShadow="True">
                    <Frame.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding GoToStudentDetailCommand}" />
                    </Frame.GestureRecognizers>
                    <VerticalStackLayout Spacing="10">

                        <Label Text="Ã–ÄŸrenci Bilgileri" FontSize="18" TextColor="Gray" HorizontalOptions="Center"/>

                        <Label Text="{Binding Student.Name}" 
                               FontSize="28" FontAttributes="Bold" TextColor="#2D3E50" HorizontalOptions="Center"/>

                        <Label Text="{Binding Student.ClassName}" 
                               FontSize="16" TextColor="Orange" HorizontalOptions="Center"/>
                    </VerticalStackLayout>
                </Frame>

                <VerticalStackLayout Spacing="15">
                    <VerticalStackLayout.Triggers>
                        <DataTrigger TargetType="VerticalStackLayout" Binding="{Binding HasStudent}" Value="True">
                            <Setter Property="IsVisible" Value="False" />
                        </DataTrigger>
                    </VerticalStackLayout.Triggers>

                    <Label Text="ðŸš«" FontSize="50" HorizontalOptions="Center"/>
                    <Label Text="HenÃ¼z Bir Ã‡ocuk Eklemediniz" 
                           FontSize="20" FontAttributes="Bold" TextColor="Red" HorizontalOptions="Center"/>
                    <Label Text="Kurumunuzdan aldÄ±ÄŸÄ±nÄ±z kod ile Ã§ocuÄŸunuzu eÅŸleÅŸtirebilirsiniz." 
                           FontSize="14" TextColor="Gray" HorizontalOptions="Center" HorizontalTextAlignment="Center"/>

                    <Button Text="Ã‡ocuk Ekle" 
                            Command="{Binding AddChildCommand}" 
                            BackgroundColor="#2D3E50" 
                            TextColor="White" 
                            CornerRadius="20"/>
                </VerticalStackLayout>

            </VerticalStackLayout>
        </Grid>
    </Grid>

</ContentPage>