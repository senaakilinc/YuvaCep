<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:YuvaCep.Mobile.ViewModels"
             x:Class="YuvaCep.Mobile.Views.BadgeDetailPage"
             Title="Rozet DetaylarÄ±"
             BackgroundColor="#F3F4F6"
             Shell.NavBarIsVisible="False">

    <ContentPage.BindingContext>
        <vm:StudentBadgeCollectionViewModel />
    </ContentPage.BindingContext>

    <Grid RowDefinitions="Auto, *">
        <Frame CornerRadius="15" HasShadow="True" BorderColor="#E5E7EB" BackgroundColor="White" Padding="20">
            <VerticalStackLayout Spacing="10">
                <Label Text="NasÄ±l Rozet KazanÄ±rÄ±m?" FontAttributes="Bold" FontSize="18" TextColor="#1F2937"/>
                <Label Text="Aktiviteleri tamamlayarak puan topla ve rozetleri kazan!" TextColor="#4B5563" FontSize="13" Margin="0,0,0,5"/>

                <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                    <Label Text="ðŸ¥‰" FontSize="20"/>
                    <Label Text="Bronz: 5 gÃ¼n etkileÅŸim" TextColor="#374151" VerticalOptions="Center"/>
                </HorizontalStackLayout>
                <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                    <Label Text="ðŸ¥ˆ" FontSize="20"/>
                    <Label Text="GÃ¼mÃ¼ÅŸ: 10 gÃ¼n etkileÅŸim" TextColor="#374151" VerticalOptions="Center"/>
                </HorizontalStackLayout>
                <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                    <Label Text="ðŸ¥‡" FontSize="20"/>
                    <Label Text="AltÄ±n: 20 gÃ¼n etkileÅŸim" TextColor="#374151" VerticalOptions="Center"/>
                </HorizontalStackLayout>
            </VerticalStackLayout>
        </Frame>

        <ScrollView Grid.Row="1" Padding="20">
            <VerticalStackLayout Spacing="20">
                <Label Text="KazanÄ±lan Rozetler" FontAttributes="Bold" Margin="5,10,0,0" TextColor="#1F2937"/>

                <CollectionView ItemsSource="{Binding Badges}">
                    <CollectionView.ItemsLayout>
                        <GridItemsLayout Orientation="Vertical" Span="2" HorizontalItemSpacing="10" VerticalItemSpacing="10"/>
                    </CollectionView.ItemsLayout>
                    <CollectionView.ItemTemplate>
                        <DataTemplate x:DataType="vm:BadgeDisplayItem">
                            <Frame Padding="10" CornerRadius="12" HasShadow="False" BackgroundColor="{Binding CardColor}" BorderColor="#E5E7EB" Opacity="{Binding Opacity}" HeightRequest="160">
                                <Grid RowDefinitions="*, Auto, Auto" RowSpacing="5">
                                    <Image Grid.Row="0" Source="{Binding ImageUrl}" Aspect="AspectFit" HeightRequest="80" HorizontalOptions="Center"/>
                                    <Label Grid.Row="1" Text="{Binding Name}" FontAttributes="Bold" FontSize="14" TextColor="{Binding TextColor}" HorizontalOptions="Center" HorizontalTextAlignment="Center"/>
                                    <Label Grid.Row="2" Text="{Binding StatusText}" FontSize="11" TextColor="Gray" HorizontalOptions="Center"/>
                                </Grid>
                            </Frame>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>

            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>